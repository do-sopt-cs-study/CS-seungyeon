# TSL과 SSL Handshake

## SSL과 TSL

- SSL(Secure Sockets Layer)은 암호화 기반 인터넷 프로토콜.
- 개인정보 보호, 인증, 데이터 무결성을 보장하기 위해 Netscape가 1995년 처음으로 개발.
- SSL/TLS를 사용하는 웹사이트는 HTTP 대신에 HTTPS를 사용한다.
<img width="500" alt="image" src="https://github.com/do-sopt-cs-study/CS-seungyeon/assets/49530253/97fc3327-4319-4141-a888-b0d8b09f7673">

- 웹에서 전송되는 데이터를 암호화한다. 데이터가 유출되었을 시에 암호화된 데이터만 유출이 된다.
    - 두 통신 장치 사이에 handshake라는 인증 프로세스를 시작해서 두 장치의 ID를 확인.
    - 데이터 무결성을 제공하기 위해 데이터에 디지털 서명하여 데이터 수신자가 조작되지 않은 데이터를 받았다는 것을 확인.
    - 기존에는 메시지가 암호화되지 않았기 때문에 웹 상의 데이터를 누군가 가로챈다면 누구나 읽을 수 있는 평문 데이터였다. 이 문제를 바로잡기 위해서 SSL 제작됨.
    - 사용자 데이터를 탈취하기 위해서 가짜 웹사이트를 만드는 경우가 있는데, SSL가 웹 서버를 인증하기 때문에 이런 공격을 막을 수 있다.
    - 데이터 전송 중간에 데이터를 조작하지 못하도록 막는다.
- TSL의 이전 버전이 SSL. 1999년 IETF(Internet Engineering Task Force)가 SSL 업데이트를 제안하게 되고 Netscape에서 더이상 참여하지 않게 되면서 이름이 TSL로 바뀌었다.
- 둘은 밀접한 관계가 있기 떄문에 혼합되어 사용되는 경우가 많다.TSL을 SSL로 부르기도 하고 SSL/TLS 암호화라고 부르는 경우도 있음.
    - SSL은 TSL 등장 이후 업데이트 되고 있지 않기에 여러 취약성이 있다. 보안 전문가들은 SSL 사용 중단하기를 권고. 실제로 최신 웹 브라우저는 대부분 SSL을 지원하지 않음.
    - TLS는 최신 암호화 프로토콜. 거의 20년 동안 업계 표준. 다만 용어를 혼용해서 쓰는 경우가 있기에 SSL 제공 업체도 사실상 요즘은 TSL을 제공하는 것.

즉, SSL/TSL는 서버, 애플리케이션, 사용자 및 시스템 간의 데이터를 암호화하는 통신 프로토콜. OSI 7계층 중에서 어떤 계층에 속해서 동작하는 게 아니고 응용계층과 전송계층 사이에서 독립적인 프로토콜 계층을 만들어서 동작한다.
<img width="500" alt="image" src="https://github.com/do-sopt-cs-study/CS-seungyeon/assets/49530253/c085901d-902e-428a-91f7-e54fb2fd6348">
네트워크를 통해 연결된 두 당사자를 인증하므로 데이터를 안전하게 교환할 수 있다. handshake 프로세스를 용이하게 하고, 브라우저와 웹 서버 간에 암호화된 통신을 설정하는 디지털 인증서를 사용한다.

## SSL/TLS Handshake

SSL은 대칭키 방식과 비대칭키 방식(공개키)을 섞어서 사용한다.
1. A가 B로 접속 요청을 보낸다.
2. B는 A에게 자신의 공개키를 전송한다. B는 공개키와 개인키를 모두 가지고 있다. 암호화할 때는 공개키, 복호화할 때는 개인키
3. A는 자신의 대칭키를 B에서 받은 공개키로 암호화. 이렇게 암호화한 대칭키를 B에게 전달
4. B는 자신의 개인 키로 복호화하여 A의 대칭키를 알아낸다. 이렇게 A와 B 모두 대칭키 방식에서 쓰이는 공개키를 공유할 수 있게 된다.
5. 이 대칭키를 활용해서 A와 B는 안전하게 통신한다.

즉, 대칭키 방식에서 공개키를 안전하게 공유하기 위해 비대칭키 방식을 사용하고 대칭키 방식으로 통신한다.



